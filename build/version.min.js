!function(){"use strict";var e=window.__version_base_url||"http://staging.api.releasepage.co",t=window.__manage_base_url||"https://staging.manage.releasepage.co",r=function(e){this.options=e};r.prototype={load:function(){var t=this.onLoad.bind(this),r=new XMLHttpRequest;r.addEventListener("load",function(){t({status:this.status,response:this.response})});var n=e+"/v1/pages/"+this.options.page+"/version?apiKey="+this.options.apiKey;r.open("GET",n),r.send()},onLoad:function(e){var r=e.status,n=e.response;switch(r){case 404:return console.error("version.js: A page by name "+this.options.page);case 401:var o=t+"/"+this.options.page+"/add-ons/api";console.error("version.js: enable the version api for this page: "+o);break;case 200:var s=JSON.parse(n);this.latest=s.latest,this.latestGrouped=s.latestGrouped,this.permalink=s.permalink;break;default:return console.error("version.js: ReleasePage API error",r)}var i=document.querySelectorAll("[data-version-badge]");i.length&&this.renderBadges({elements:i});var a=document.querySelectorAll("[data-repo-name]");return a.length&&this.renderRepoNames({elements:a}),this},renderRepoNames:function(e){var t=this;return e.elements.forEach(function(e){var r=e.getAttribute("data-repo-name"),n=t.latest.find(function(e){return e.repo===r});n&&(e.textContent=n.name||n.repo)})},renderBadges:function(e){var t=this;e.elements.forEach(function(e){"A"!==e.tagName||e.href||e.setAttribute("href",t.permalink);var r=e.getAttribute("data-version-repo"),n=void 0;r&&(n=t.latest.find(function(e){return e.repo===r}).version),!n&&t.latestGrouped&&(n=t.latestGrouped.version),e.textContent=n})},publishedAt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.repo;if(this.isGrouped())return this.latestGrouped.published_at;if(t){var r=this.latest.find(function(e){return e.repo===t});return r?r.published_at:null}return this.latest[0].published_at},author:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.repo;if(this.isGrouped())return this.latestGrouped.authors;if(t){var r=this.latest.find(function(e){return e.repo===t});return r?r.author:null}return this.latest[0].author},tag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.repo;if(this.isGrouped())return this.latestGrouped.version;if(t){var r=this.latest.find(function(e){return e.repo===t});return r?r.version:null}return this.latest[0].version},isGrouped:function(){return!!this.latestGrouped}},"undefined"!=typeof window&&document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("script[data-page-id]");if(!e)return console.error("version.js: no key provided");var t=e.getAttribute("data-page-id"),n=e.getAttribute("data-api-key");return window.Version=new r({page:t,apiKey:n}),window.Version.load()})}();
